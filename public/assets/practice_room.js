var element_to_update_inner_html;var control_to_update;function set_selected_value(a){value=$(a).html();$("#"+element_to_update_inner_html).html(value);$("#"+control_to_update).val(value);autosave(control_to_update,$("#"+control_to_update).val());element_to_update_inner_html="";control_to_update="";$(".selector").hide("fast")}function set_selected_value_manual(c,b,a){$("#"+c).html(a);$("#"+b).val(a);autosave(b,$("#"+b).val())}function autosave(b,a){$("#transmitting").show();controller="";record_id="";field="";if(b.indexOf("travel_card")>=0){controller="travel_cards";qualified_field="travel_card["+b.replace("travel_card_","")+"]";record_id=$("#travel_card_id").val();update_field_to_server(controller,record_id,qualified_field,a);$("#"+b).val(a);return}if(b.indexOf("visit")>=0){controller="visits";qualified_field="visit["+b.replace("visit_","")+"]";record_id=$("#visit_id").val();update_field_to_server(controller,record_id,qualified_field,a);return}}function update_field_to_server(a,c,b,d){field_data=b+"="+d;$.ajax({type:"PUT",url:"/"+a+"/"+c,data:field_data,dataType:"script"})}function travel_card_set_values_from_hidden_fields(){$("#level_of_care").html($("#travel_card_level_of_care").val());$("#dominant_occiput").html($("#travel_card_dominant_occiput").val()).addClass($("#travel_card_dominant_occiput").val());lr_selectors=new Array("occ_c1","c1_occ","c1_c2","c2_c1","c2_c3","c3_c2","c3_c4","c4_c3","c4_c5","c5_c4","c5_c6","c6_c5","c6_c7","c7_c6","c7_t1","t1_c7","t1_t2","t2_t1","t2_t3","t3_t2","s1","s2","s3","s4","s5","cx");for(key in lr_selectors){value=$("#travel_card_gateway_"+lr_selectors[key]).val();$("#gateway_"+lr_selectors[key]).html(value).addClass(value)}$("#leading_bme_strategy").html($("#travel_card_leading_bme_strategy").val());$("#second_bme_strategy").html($("#travel_card_second_bme_strategy").val());set_third_bme_strategy();$("#full_respiratory_wave").html($("#travel_card_full_respiratory_wave").val());$("#passive_c1_c7_tension_level").html($("#travel_card_passive_c1_c7_tension_level").val());$("#passive_t1_t12_tension_level").html($("#travel_card_passive_t1_t12_tension_level").val());$("#passive_l1_l5_tension_level").html($("#travel_card_passive_l1_l5_tension_level").val());$("#passive_s1_cx_tension_level").html($("#travel_card_passive_s1_cx_tension_level").val());$("#active_c1_c7_tension_level").html($("#travel_card_active_c1_c7_tension_level").val());$("#active_t1_t12_tension_level").html($("#travel_card_active_t1_t12_tension_level").val());$("#active_l1_l5_tension_level").html($("#travel_card_active_l1_l5_tension_level").val());$("#active_s1_cx_tension_level").html($("#travel_card_active_s1_cx_tension_level").val());$("#sri_position_1_level_of_awareness").html($("#travel_card_sri_position_1_level_of_awareness").val());$("#sri_position_2_level_of_awareness").html($("#travel_card_sri_position_2_level_of_awareness").val());$("#sri_position_3_level_of_awareness").html($("#travel_card_sri_position_3_level_of_awareness").val());$("#sri_safety_position").html($("#travel_card_sri_safety_position").val());$("#buzz_words_for_sri").html($("#travel_card_buzz_words_for_sri").val());$("#book_12_stages").html($("#travel_card_book_12_stages").val());$("#book_healing_magic").html($("#travel_card_book_healing_magic").val());$("#number_gate").html($("#travel_card_number_gate").val());$("#number_hip").html($("#travel_card_number_hip").val());$("#number_ultima").html($("#travel_card_number_ultima").val());$("#number_ultimatum").html($("#travel_card_number_ultimatum").val());$("#number_sri").html($("#travel_card_number_sri").val())}function show_selector(d,c,a,b){element_to_update_inner_html=a;control_to_update=b;switch(d){case"boolean_selector":boolean_toggle_selected_value(c);break;case"side_selector":left_right_toggle_selected_value(c);break;default:if(d=="phase_gateway_selector"){set_phase_and_gateway_currently_working();selected_phase=$("#visit_phase_"+visit_phase_currently_working).val();set_phase_gateway_selector_visible_text();set_phase_gateway_selector_choices(selected_phase)}else{if(d=="phase_direction_selector"){set_phase_and_gateway_currently_working();selected_phase=$("#visit_phase_"+visit_phase_currently_working).val();set_phase_direction_selector_choices(visit_phase_currently_working,selected_phase)}else{if(d.indexOf("phase")>=0){set_phase_and_gateway_currently_working()}}}eleOffset=$(c).offset();left=eleOffset.left+"px";topp=eleOffset.top+"px";$(".selector").hide();$("#"+d).css("left",left).css("top",topp).css("position","absolute");$("#"+d).show("fast");break}}function boolean_toggle_selected_value(a){current_value=$(a).html();if(current_value=="X"){$(a).html("")}else{$(a).html("X")}set_selected_value(a)}function left_right_toggle_selected_value(a){current_value=$(a).html();if(current_value==""){$(a).html("L").addClass("L")}else{if(current_value=="L"){$(a).html("R").addClass("R")}else{$(a).html("").removeClass("L").removeClass("R")}}set_selected_value(a)}function add_color_class_to_gateway(b,a){if(a=="L"){$(object).addClass("left")}else{if(a=="R"){$(object).addClass("right")}}}function set_bme_strategy(a){leading_strategy=$("#travel_card_leading_bme_strategy").val();second_strategy=$("#travel_card_second_bme_strategy").val();if(element_to_update_inner_html=="leading_bme_strategy"){if(second_strategy==a){$("#second_bme_strategy").html("");$("#travel_card_second_bme_strategy").val("");second_strategy=""}}if(element_to_update_inner_html=="second_bme_strategy"){if(leading_strategy==a){$("#leading_bme_strategy").html("");$("#travel_card_leading_bme_strategy").val("");leading_strategy=""}}$("#"+element_to_update_inner_html).html(a);if(control_to_update!=""){$("#"+control_to_update).val(a)}autosave("travel_card_leading_bme_strategy",$("#travel_card_leading_bme_strategy").val());autosave("travel_card_second_bme_strategy",$("#travel_card_second_bme_strategy").val());set_third_bme_strategy(false);element_to_update_inner_html="";control_to_update="";$("#bme_strategy_selector").hide("fast")}function set_third_bme_strategy(a){mini_tc_prefix="";if(a==true){mini_tc_prefix="mini_travel_card_"}leading_strategy=$("#travel_card_leading_bme_strategy").val();second_strategy=$("#travel_card_second_bme_strategy").val();$("#third_bme_strategy").html("");if(leading_strategy!=""&&second_strategy!=""){remaining_strategy="BME";remaining_strategy=remaining_strategy.replace(leading_strategy,"");remaining_strategy=remaining_strategy.replace(second_strategy,"");if(remaining_strategy.length==1){$("#"+mini_tc_prefix+"third_bme_strategy").html(remaining_strategy)}}}function mini_travel_card_set_values_from_hidden_fields(){$("#mini_travel_card_level_of_care").html($("#travel_card_level_of_care").val());value=$("#travel_card_dominant_occiput").val();set_mini_travel_card_text_and_field_color_class("mini_travel_card_dominant_occiput",value);$("#mini_travel_card_dominant_occiput").html($("#travel_card_dominant_occiput").val()).addClass($("#travel_card_dominant_occiput").val());lr_selectors=new Array("occ_c1","c1_occ","c1_c2","c2_c1","c2_c3","c3_c2","c3_c4","c4_c3","c4_c5","c5_c4","c5_c6","c6_c5","c6_c7","c7_c6","c7_t1","t1_c7","t1_t2","t2_t1","t2_t3","t3_t2","s1","s2","s3","s4","s5","cx");for(key in lr_selectors){value=$("#travel_card_gateway_"+lr_selectors[key]).val();set_mini_travel_card_text_and_field_color_class("mini_travel_card_gateway_"+lr_selectors[key],value)}$("#mini_travel_card_leading_bme_strategy").html($("#travel_card_leading_bme_strategy").val());$("#mini_travel_card_second_bme_strategy").html($("#travel_card_second_bme_strategy").val());set_third_bme_strategy();$("#mini_travel_card_full_respiratory_wave").html($("#travel_card_full_respiratory_wave").val())}function set_mini_travel_card_text_and_field_color_class(a,b){$("#"+a).removeClass("mini_travel_card_cell").removeClass("L").removeClass("R");$("#"+a).html(b);if(b=="L"||b=="R"){$("#"+a).addClass(b)}else{$("#"+a).addClass("mini_travel_card_cell")}}function visit_set_values_from_hidden_fields(){phase_1=$("#visit_phase_1").val();$("#selected_phase_1").html(phase_1);set_visible_fields_per_selected_phase(phase_1,"1");$("#selected_phase_1_gateway_1").html(add_side_span_to_gateway_text($("#visit_phase_1_gateway_1").val()));$("#selected_phase_1_gateway_1_affecting").html(add_side_span_to_gateway_text($("#visit_phase_1_gateway_1_affecting").val()));$("#selected_phase_1_gateway_2").html(add_side_span_to_gateway_text($("#visit_phase_1_gateway_2").val()));$("#selected_phase_1_gateway_2_affecting").html(add_side_span_to_gateway_text($("#visit_phase_1_gateway_2_affecting").val()));$("#selected_phase_1_direction").html($("#visit_phase_1_direction").val());$("#selected_phase_1_level_of_care").html($("#visit_phase_1_level_of_care").val());phase_2=$("#visit_phase_2").val();$("#selected_phase_2").html(phase_2);set_visible_fields_per_selected_phase(phase_2,"2");$("#selected_phase_2_gateway_1").html(add_side_span_to_gateway_text($("#visit_phase_2_gateway_1").val()));$("#selected_phase_2_gateway_1_affecting").html(add_side_span_to_gateway_text($("#visit_phase_2_gateway_1_affecting").val()));$("#selected_phase_2_gateway_2").html(add_side_span_to_gateway_text($("#visit_phase_2_gateway_2").val()));$("#selected_phase_2_gateway_2_affecting").html(add_side_span_to_gateway_text($("#visit_phase_2_gateway_2_affecting").val()));$("#selected_phase_2_direction").html($("#visit_phase_2_direction").val());$("#selected_phase_2_level_of_care").html($("#visit_phase_2_level_of_care").val());if(phase_2==""){$(".phase_2").hide()}else{$(".phase_2").show();$("#work_second_phase_button").hide()}$("#abduction_tension_level").html($("#visit_abduction_tension_level").val());$("#adduction_tension_level").html($("#visit_adduction_tension_level").val());$("#heel_tension_level").html($("#visit_heel_tension_level").val());$("#eversion_tension_level").html($("#visit_eversion_tension_level").val());$("#sri_stage").html($("#visit_sri_stage").val());$("#sri_position").html($("#visit_sri_position").val());$("#sri_level_of_care").html($("#visit_sri_level_of_care").val());$("#sri_organizing_field").html($("#visit_sri_organizing_field").val());$("#ingression_organizing_field").html($("#visit_ingression_organizing_field").val());$("#egression_organizing_field").html($("#visit_egression_organizing_field").val());$("#long_lever_arm").html($("#visit_long_lever_arm").val());$("#short_lever_arm").html($("#visit_short_lever_arm").val());$("#crest").html($("#visit_crest").val());$("#short_leg_side").html($("#visit_short_leg_side").val());$("#short_leg_amount").html($("#visit_short_leg_amount").val());$("#diagnosis").html($("#visit_diagnosis").val());highlight_available_gateways()}var visit_phase_currently_working;var visit_gateway_currently_working;function set_phase_and_gateway_currently_working(){if(element_to_update_inner_html.indexOf("phase_1")>=0){visit_phase_currently_working="1"}else{if(element_to_update_inner_html.indexOf("phase_2")>=0){visit_phase_currently_working="2"}}if(element_to_update_inner_html.indexOf("gateway_1_affecting")>=0){visit_gateway_currently_working="1_affecting"}else{if(element_to_update_inner_html.indexOf("gateway_2_affecting")>=0){visit_gateway_currently_working="2_affecting"}else{if(element_to_update_inner_html.indexOf("gateway_1")>=0){visit_gateway_currently_working="1"}else{if(element_to_update_inner_html.indexOf("gateway_2")>=0){visit_gateway_currently_working="2"}}}}}function highlight_available_gateways(){clear_available_gateways();current_phase=$("#visit_phase_"+visit_phase_currently_working).val();switch(current_phase){case"2 C1":$("#mini_travel_card_gateway_c1_occ").addClass("highlighted");$("#mini_travel_card_gateway_c1_c2").addClass("highlighted");break;case"2 C5":$("#mini_travel_card_gateway_c4_c5").addClass("highlighted");$("#mini_travel_card_gateway_c5_c4").addClass("highlighted");$("#mini_travel_card_gateway_c5_c6").addClass("highlighted");$("#mini_travel_card_gateway_c6_c5").addClass("highlighted");$("#mini_travel_card_gateway_c6_c7").addClass("highlighted");$("#mini_travel_card_gateway_c7_c6").addClass("highlighted");$("#mini_travel_card_gateway_c7_t1").addClass("highlighted");$("#mini_travel_card_gateway_t1_c7").addClass("highlighted");break;case"3":$("#mini_travel_card_gateway_s1").addClass("highlighted");$("#mini_travel_card_gateway_s2").addClass("highlighted");$("#mini_travel_card_gateway_s3").addClass("highlighted");$("#mini_travel_card_gateway_s4").addClass("highlighted");$("#mini_travel_card_gateway_s5").addClass("highlighted");$("#mini_travel_card_gateway_cx").addClass("highlighted");break;case"4":$("#mini_travel_card_gateway_c2_c1").addClass("highlighted");$("#mini_travel_card_gateway_c2_c3").addClass("highlighted");$("#mini_travel_card_gateway_c3_c2").addClass("highlighted");$("#mini_travel_card_gateway_c3_c4").addClass("highlighted");break;case"5":$("#mini_travel_card_dominant_occiput").addClass("highlighted");$("#mini_travel_card_gateway_occ_c1").addClass("highlighted");$("#mini_travel_card_gateway_c1_occ").addClass("highlighted");$("#mini_travel_card_gateway_c1_c2").addClass("highlighted");$("#mini_travel_card_gateway_c2_c1").addClass("highlighted");$("#mini_travel_card_gateway_c2_c3").addClass("highlighted");$("#mini_travel_card_gateway_c3_c2").addClass("highlighted");$("#mini_travel_card_gateway_c3_c4").addClass("highlighted");$("#mini_travel_card_gateway_c4_c3").addClass("highlighted");$("#mini_travel_card_gateway_c4_c5").addClass("highlighted");$("#mini_travel_card_gateway_c5_c4").addClass("highlighted");$("#mini_travel_card_gateway_c5_c6").addClass("highlighted");$("#mini_travel_card_gateway_c6_c5").addClass("highlighted");$("#mini_travel_card_gateway_c6_c7").addClass("highlighted");$("#mini_travel_card_gateway_c7_c6").addClass("highlighted");$("#mini_travel_card_gateway_c7_t1").addClass("highlighted");$("#mini_travel_card_gateway_t1_c7").addClass("highlighted");break}}function clear_available_gateways(){$("#mini_travel_card_gateway_occ_c1").removeClass("highlighted");$("#mini_travel_card_gateway_c1_occ").removeClass("highlighted");$("#mini_travel_card_gateway_c1_c2").removeClass("highlighted");$("#mini_travel_card_gateway_c2_c1").removeClass("highlighted");$("#mini_travel_card_gateway_c2_c3").removeClass("highlighted");$("#mini_travel_card_gateway_c3_c2").removeClass("highlighted");$("#mini_travel_card_gateway_c3_c4").removeClass("highlighted");$("#mini_travel_card_gateway_c4_c3").removeClass("highlighted");$("#mini_travel_card_gateway_c4_c5").removeClass("highlighted");$("#mini_travel_card_gateway_c5_c4").removeClass("highlighted");$("#mini_travel_card_gateway_c5_c6").removeClass("highlighted");$("#mini_travel_card_gateway_c6_c5").removeClass("highlighted");$("#mini_travel_card_gateway_c6_c7").removeClass("highlighted");$("#mini_travel_card_gateway_c7_c6").removeClass("highlighted");$("#mini_travel_card_gateway_c7_t1").removeClass("highlighted");$("#mini_travel_card_gateway_t1_c7").removeClass("highlighted");$("#mini_travel_card_gateway_s1").removeClass("highlighted");$("#mini_travel_card_gateway_s2").removeClass("highlighted");$("#mini_travel_card_gateway_s3").removeClass("highlighted");$("#mini_travel_card_gateway_s4").removeClass("highlighted");$("#mini_travel_card_gateway_s5").removeClass("highlighted");$("#mini_travel_card_gateway_cx").removeClass("highlighted")}function set_phase(a){set_selected_value_manual("selected_phase_"+visit_phase_currently_working,"visit_phase_"+visit_phase_currently_working,a);set_visible_fields_per_selected_phase(a,visit_phase_currently_working);$("#phase_"+visit_phase_currently_working+"_selector").hide();clear_phase_gateway(visit_phase_currently_working,"1");clear_phase_gateway(visit_phase_currently_working,"1_affecting");clear_phase_gateway(visit_phase_currently_working,"2");clear_phase_gateway(visit_phase_currently_working,"2_affecting");clear_phase_direction(visit_phase_currently_working);$("#visit_stats_phase_"+visit_phase_currently_working).html("");highlight_available_gateways();set_phase_direction_selector_choices(visit_phase_currently_working,a)}function set_visible_fields_per_selected_phase(a,b){if(a==undefined){a=""}if(b==undefined){b=visit_phase_currently_working}if(a.indexOf("1 >")>=0){$(".phase_"+b+"_affected_gateway_label").show();$("#selected_phase_"+b+"_gateway_1_affecting").show();$("#selected_phase_"+b+"_gateway_2_affecting").show()}else{$(".phase_"+b+"_affected_gateway_label").hide();$("#selected_phase_"+b+"_gateway_1_affecting").hide();$("#selected_phase_"+b+"_gateway_2_affecting").hide();if(a=="5"){$("#phase_"+b+"_direction_label").hide();$("#selected_phase_"+b+"_direction").hide()}else{$("#phase_"+b+"_direction_label").show();$("#selected_phase_"+b+"_direction").show()}}}function add_side_span_to_gateway_text(a){gateway_side=get_gateway_side(a);if(gateway_side=="L"){return'<span class="gateway_selector_side_highlight_l">'+gateway_side+" </span>"+a}if(gateway_side=="R"){return'<span class="gateway_selector_side_highlight_r">'+gateway_side+" </span>"+a}return a}function get_gateway_side(a){if(a=="OCC"){travel_card_gateway_control_id="travel_card_dominant_occiput"}else{travel_card_gateway_control_id="travel_card_gateway_"+normalize_gateway(a)}return $("#"+travel_card_gateway_control_id).val()}function normalize_gateway(a){return a.toLowerCase().replace(/\//,"_")}function remove_span_from_gateway_html(a){return a.replace(/<span.*>.*<\/span>/i,"")}function set_phase_gateway(a){gateway_value=$(a).html();value_to_save=remove_span_from_gateway_html(gateway_value);$("#visit_phase_"+visit_phase_currently_working+"_gateway_"+visit_gateway_currently_working).val(value_to_save);$("#selected_phase_"+visit_phase_currently_working+"_gateway_"+visit_gateway_currently_working).html(gateway_value);autosave("visit_phase_"+visit_phase_currently_working+"_gateway_"+visit_gateway_currently_working,value_to_save);$("#phase_"+visit_phase_currently_working+"_gateway_"+visit_gateway_currently_working+"_selector").hide();if(visit_gateway_currently_working=="1"){selected_phase_gateway_2=$("#visit_phase_"+visit_phase_currently_working+"_gateway_2").val();if(selected_phase_gateway_2==gateway_value){clear_phase_gateway(visit_phase_currently_working,"2")}}if(visit_gateway_currently_working=="1_affecting"){selected_phase_gateway_2_affecting=$("#visit_phase_"+visit_phase_currently_working+"_gateway_2_affecting").val();if(selected_phase_gateway_2_affecting==gateway_value){clear_phase_gateway(visit_phase_currently_working,"2_affecting")}}$(".selector").hide()}function clear_phase_gateway(a,b){if(a==undefined){a=visit_phase_currently_working}if(b==undefined){b=visit_gateway_currently_working}$("#visit_phase_"+a+"_gateway_"+b).val("");$("#selected_phase_"+a+"_gateway_"+b).html("");set_phase_gateway_selector_choices("1","","");$(".selector").hide()}function set_phase_gateway_selector_choices(a){limit_gateway="";if(visit_gateway_currently_working=="2"){limit_gateway="1"}if(visit_gateway_currently_working=="2_affecting"){limit_gateway="1_affecting"}if(limit_gateway!=""){if(a!="1 > 2 C1"&&a!="1 > 2 C5"&&a!="1 > 4"){filter_for_gateway=$("#visit_phase_"+visit_phase_currently_working+"_gateway_"+limit_gateway).val()}}else{filter_for_gateway=""}$(".gateway_selection_cell").hide();$("#select_gateway_").show();if(a==""){$("#select_gateway_").html("please select a phase")}else{$("#select_gateway_").html(" ")}switch(a){case"1 > 2 C1":switch(visit_gateway_currently_working){case"1":case"2":if(filter_for_gateway.indexOf("OCC")==-1){$("#select_gateway_occ").show()}if(filter_for_gateway.indexOf("S1")==-1){$("#select_gateway_s1").show()}if(filter_for_gateway.indexOf("S2")==-1){$("#select_gateway_s2").show()}if(filter_for_gateway.indexOf("S3")==-1){$("#select_gateway_s3").show()}if(filter_for_gateway.indexOf("S4")==-1){$("#select_gateway_s4").show()}if(filter_for_gateway.indexOf("S5")==-1){$("#select_gateway_s5").show()}if(filter_for_gateway.indexOf("CX")==-1){$("#select_gateway_cx").show()}break;case"1_affecting":case"2_affecting":if(filter_for_gateway.indexOf("C1/OCC")==-1){$("#select_gateway_c1_occ").show()}if(filter_for_gateway.indexOf("C1/C2")==-1){$("#select_gateway_c1_c2").show()}break}break;case"1 > 2 C5":switch(visit_gateway_currently_working){case"1":case"2":if(filter_for_gateway.indexOf("OCC")==-1){$("#select_gateway_occ").show()}if(filter_for_gateway.indexOf("S1")==-1){$("#select_gateway_s1").show()}if(filter_for_gateway.indexOf("S2")==-1){$("#select_gateway_s2").show()}if(filter_for_gateway.indexOf("S3")==-1){$("#select_gateway_s3").show()}if(filter_for_gateway.indexOf("S4")==-1){$("#select_gateway_s4").show()}if(filter_for_gateway.indexOf("S5")==-1){$("#select_gateway_s5").show()}if(filter_for_gateway.indexOf("CX")==-1){$("#select_gateway_cx").show()}break;case"1_affecting":case"2_affecting":if(filter_for_gateway.indexOf("C3/C4")==-1){$("#select_gateway_c3_c4").show()}if(filter_for_gateway.indexOf("C4/C3")==-1){$("#select_gateway_c4_c3").show()}if(filter_for_gateway.indexOf("C4/C5")==-1){$("#select_gateway_c4_c5").show()}if(filter_for_gateway.indexOf("C5/C4")==-1){$("#select_gateway_c5_c4").show()}if(filter_for_gateway.indexOf("C5/C6")==-1){$("#select_gateway_c5_c6").show()}if(filter_for_gateway.indexOf("C6/C5")==-1){$("#select_gateway_c6_c5").show()}if(filter_for_gateway.indexOf("C6/C7")==-1){$("#select_gateway_c6_c7").show()}if(filter_for_gateway.indexOf("C7/C6")==-1){$("#select_gateway_c7_c6").show()}if(filter_for_gateway.indexOf("C7/T1")==-1){$("#select_gateway_c7_t1").show()}if(filter_for_gateway.indexOf("T1/C7")==-1){$("#select_gateway_t1_c7").show()}if(filter_for_gateway.indexOf("T1/T2")==-1){$("#select_gateway_t1_t2").show()}if(filter_for_gateway.indexOf("T2/T1")==-1){$("#select_gateway_t2_t1").show()}if(filter_for_gateway.indexOf("T2/T3")==-1){$("#select_gateway_t2_t3").show()}if(filter_for_gateway.indexOf("T3/T2")==-1){$("#select_gateway_t3_t2").show()}break}break;case"1 > 3":switch(visit_gateway_currently_working){case"1":case"2":if(filter_for_gateway.indexOf("OCC")==-1){$("#select_gateway_occ").show()}if(filter_for_gateway.indexOf("S1")==-1){$("#select_gateway_s1").show()}if(filter_for_gateway.indexOf("S2")==-1){$("#select_gateway_s2").show()}if(filter_for_gateway.indexOf("S3")==-1){$("#select_gateway_s3").show()}if(filter_for_gateway.indexOf("S4")==-1){$("#select_gateway_s4").show()}if(filter_for_gateway.indexOf("S5")==-1){$("#select_gateway_s5").show()}if(filter_for_gateway.indexOf("CX")==-1){$("#select_gateway_cx").show()}if(visit_gateway_currently_working=="2"){if(filter_for_gateway.indexOf("APEX")==-1){$("#select_gateway_apex").show()}}break;case"1_affecting":case"2_affecting":if(filter_for_gateway.indexOf("S1")==-1){$("#select_gateway_s1").show()}if(filter_for_gateway.indexOf("S2")==-1){$("#select_gateway_s2").show()}if(filter_for_gateway.indexOf("S3")==-1){$("#select_gateway_s3").show()}if(filter_for_gateway.indexOf("S4")==-1){$("#select_gateway_s4").show()}if(filter_for_gateway.indexOf("S5")==-1){$("#select_gateway_s5").show()}if(filter_for_gateway.indexOf("CX")==-1){$("#select_gateway_cx").show()}break}break;case"1 > 4":switch(visit_gateway_currently_working){case"1":case"2":if(filter_for_gateway.indexOf("OCC")==-1){$("#select_gateway_occ").show()}if(filter_for_gateway.indexOf("S1")==-1){$("#select_gateway_s1").show()}if(filter_for_gateway.indexOf("S2")==-1){$("#select_gateway_s2").show()}if(filter_for_gateway.indexOf("S3")==-1){$("#select_gateway_s3").show()}if(filter_for_gateway.indexOf("S4")==-1){$("#select_gateway_s4").show()}if(filter_for_gateway.indexOf("S5")==-1){$("#select_gateway_s5").show()}if(filter_for_gateway.indexOf("CX")==-1){$("#select_gateway_cx").show()}break;case"1_affecting":case"2_affecting":if(filter_for_gateway.indexOf("C2/C1")==-1){$("#select_gateway_c2_c1").show()}if(filter_for_gateway.indexOf("C2/C3")==-1){$("#select_gateway_c2_c3").show()}if(filter_for_gateway.indexOf("C3/C2")==-1){$("#select_gateway_c3_c2").show()}if(filter_for_gateway.indexOf("C3/C4")==-1){$("#select_gateway_c3_c4").show()}break}break;case"1 > 5":switch(visit_gateway_currently_working){case"1":case"2":if(filter_for_gateway.indexOf("OCC")==-1){$("#select_gateway_occ").show()}if(filter_for_gateway.indexOf("S1")==-1){$("#select_gateway_s1").show()}if(filter_for_gateway.indexOf("S2")==-1){$("#select_gateway_s2").show()}if(filter_for_gateway.indexOf("S3")==-1){$("#select_gateway_s3").show()}if(filter_for_gateway.indexOf("S4")==-1){$("#select_gateway_s4").show()}if(filter_for_gateway.indexOf("S5")==-1){$("#select_gateway_s5").show()}if(filter_for_gateway.indexOf("CX")==-1){$("#select_gateway_cx").show()}break;case"1_affecting":case"2_affecting":if(visit_gateway_currently_working=="1"||visit_gateway_currently_working=="1_affecting"){if(filter_for_gateway.indexOf("OCC")==-1){$("#select_gateway_occ").show()}if(filter_for_gateway.indexOf("OCC/C1")==-1){$("#select_gateway_occ_c1").show()}if(filter_for_gateway.indexOf("C1/OCC")==-1){$("#select_gateway_c1_occ").show()}if(filter_for_gateway.indexOf("C1/C2")==-1){$("#select_gateway_c1_c2").show()}if(filter_for_gateway.indexOf("C2/C1")==-1){$("#select_gateway_c2_c1").show()}if(filter_for_gateway.indexOf("C2/C3")==-1){$("#select_gateway_c2_c3").show()}if(filter_for_gateway.indexOf("C3/C2")==-1){$("#select_gateway_c3_c2").show()}if(filter_for_gateway.indexOf("C3/C4")==-1){$("#select_gateway_c3_c4").show()}if(filter_for_gateway.indexOf("C4/C3")==-1){$("#select_gateway_c4_c3").show()}if(filter_for_gateway.indexOf("C4/C5")==-1){$("#select_gateway_c4_c5").show()}if(filter_for_gateway.indexOf("C5/C4")==-1){$("#select_gateway_c5_c4").show()}if(filter_for_gateway.indexOf("C5/C6")==-1){$("#select_gateway_c5_c6").show()}if(filter_for_gateway.indexOf("C6/C5")==-1){$("#select_gateway_c6_c5").show()}if(filter_for_gateway.indexOf("C6/C7")==-1){$("#select_gateway_c6_c7").show()}if(filter_for_gateway.indexOf("C7/C6")==-1){$("#select_gateway_c7_c6").show()}if(filter_for_gateway.indexOf("C7/T1")==-1){$("#select_gateway_c7_t1").show()}if(filter_for_gateway.indexOf("T1/C7")==-1){$("#select_gateway_t1_c7").show()}if(filter_for_gateway.indexOf("T1/T2")==-1){$("#select_gateway_t1_t2").show()}if(filter_for_gateway.indexOf("T2/T1")==-1){$("#select_gateway_t2_t1").show()}if(filter_for_gateway.indexOf("T2/T3")==-1){$("#select_gateway_t2_t3").show()}if(filter_for_gateway.indexOf("T3/T2")==-1){$("#select_gateway_t3_t2").show()}}else{if(filter_for_gateway.indexOf("CX")==-1){$("#select_gateway_cx").show()}if(filter_for_gateway.indexOf("APEX")==-1){$("#select_gateway_apex").show()}}break}break;case"2 C1":if(filter_for_gateway.indexOf("C1/OCC")==-1){$("#select_gateway_c1_occ").show()}if(filter_for_gateway.indexOf("C1/C2")==-1){$("#select_gateway_c1_c2").show()}break;case"2 C5":if(filter_for_gateway.indexOf("C3/C4")==-1){$("#select_gateway_c3_c4").show()}if(filter_for_gateway.indexOf("C4/C3")==-1){$("#select_gateway_c4_c3").show()}if(filter_for_gateway.indexOf("C4/C5")==-1){$("#select_gateway_c4_c5").show()}if(filter_for_gateway.indexOf("C5/C4")==-1){$("#select_gateway_c5_c4").show()}if(filter_for_gateway.indexOf("C5/C6")==-1){$("#select_gateway_c5_c6").show()}if(filter_for_gateway.indexOf("C6/C5")==-1){$("#select_gateway_c6_c5").show()}if(filter_for_gateway.indexOf("C6/C7")==-1){$("#select_gateway_c6_c7").show()}if(filter_for_gateway.indexOf("C7/C6")==-1){$("#select_gateway_c7_c6").show()}if(filter_for_gateway.indexOf("C7/T1")==-1){$("#select_gateway_c7_t1").show()}if(filter_for_gateway.indexOf("T1/C7")==-1){$("#select_gateway_t1_c7").show()}if(filter_for_gateway.indexOf("T1/T2")==-1){$("#select_gateway_t1_t2").show()}if(filter_for_gateway.indexOf("T2/T1")==-1){$("#select_gateway_t2_t1").show()}if(filter_for_gateway.indexOf("T2/T3")==-1){$("#select_gateway_t2_t3").show()}if(filter_for_gateway.indexOf("T3/T2")==-1){$("#select_gateway_t3_t2").show()}break;case"3":if(filter_for_gateway.indexOf("S1")==-1){$("#select_gateway_s1").show()}if(filter_for_gateway.indexOf("S2")==-1){$("#select_gateway_s2").show()}if(filter_for_gateway.indexOf("S3")==-1){$("#select_gateway_s3").show()}if(filter_for_gateway.indexOf("S4")==-1){$("#select_gateway_s4").show()}if(filter_for_gateway.indexOf("S5")==-1){$("#select_gateway_s5").show()}if(filter_for_gateway.indexOf("CX")==-1){$("#select_gateway_cx").show()}if(visit_gateway_currently_working=="2"){if(filter_for_gateway.indexOf("APEX")==-1){$("#select_gateway_apex").show()}}break;case"4":if(filter_for_gateway.indexOf("C2/C1")==-1){$("#select_gateway_c2_c1").show()}if(filter_for_gateway.indexOf("C2/C3")==-1){$("#select_gateway_c2_c3").show()}if(filter_for_gateway.indexOf("C3/C2")==-1){$("#select_gateway_c3_c2").show()}if(filter_for_gateway.indexOf("C3/C4")==-1){$("#select_gateway_c3_c4").show()}break;case"5":if(visit_gateway_currently_working=="1"||visit_gateway_currently_working=="1_affecting"){if(filter_for_gateway.indexOf("OCC")==-1){$("#select_gateway_occ").show()}if(filter_for_gateway.indexOf("OCC/C1")==-1){$("#select_gateway_occ_c1").show()}if(filter_for_gateway.indexOf("C1/OCC")==-1){$("#select_gateway_c1_occ").show()}if(filter_for_gateway.indexOf("C1/C2")==-1){$("#select_gateway_c1_c2").show()}if(filter_for_gateway.indexOf("C2/C1")==-1){$("#select_gateway_c2_c1").show()}if(filter_for_gateway.indexOf("C2/C3")==-1){$("#select_gateway_c2_c3").show()}if(filter_for_gateway.indexOf("C3/C2")==-1){$("#select_gateway_c3_c2").show()}if(filter_for_gateway.indexOf("C3/C4")==-1){$("#select_gateway_c3_c4").show()}if(filter_for_gateway.indexOf("C4/C3")==-1){$("#select_gateway_c4_c3").show()}if(filter_for_gateway.indexOf("C4/C5")==-1){$("#select_gateway_c4_c5").show()}if(filter_for_gateway.indexOf("C5/C4")==-1){$("#select_gateway_c5_c4").show()}if(filter_for_gateway.indexOf("C5/C6")==-1){$("#select_gateway_c5_c6").show()}if(filter_for_gateway.indexOf("C6/C5")==-1){$("#select_gateway_c6_c5").show()}if(filter_for_gateway.indexOf("C6/C7")==-1){$("#select_gateway_c6_c7").show()}if(filter_for_gateway.indexOf("C7/C6")==-1){$("#select_gateway_c7_c6").show()}if(filter_for_gateway.indexOf("C7/T1")==-1){$("#select_gateway_c7_t1").show()}if(filter_for_gateway.indexOf("T1/C7")==-1){$("#select_gateway_t1_c7").show()}if(filter_for_gateway.indexOf("T1/T2")==-1){$("#select_gateway_t1_t2").show()}if(filter_for_gateway.indexOf("T2/T1")==-1){$("#select_gateway_t2_t1").show()}if(filter_for_gateway.indexOf("T2/T3")==-1){$("#select_gateway_t2_t3").show()}if(filter_for_gateway.indexOf("T3/T2")==-1){$("#select_gateway_t3_t2").show()}}else{if(filter_for_gateway.indexOf("CX")==-1){$("#select_gateway_cx").show()}if(filter_for_gateway.indexOf("APEX")==-1){$("#select_gateway_apex").show()}}break}}function set_phase_gateway_selector_visible_text(){gateways=new Array("OCC","OCC/C1","C1/OCC","C1/C2","C2/C1","C2/C3","C3/C2","C3/C4","C4/C3","C4/C5","C5/C4","C5/C6","C6/C5","C6/C7","C7/C6","C7/T1","T1/C7","T1/T2","T2/T1","T2/T3","T3/T2","S1","S2","S3","S4","S5","SAC","APEX");for(key in gateways){gateway_text=gateways[key];gateway_side=get_gateway_side(gateway_text);$("#select_gateway_"+normalize_gateway(gateway_text)).html(add_side_span_to_gateway_text(gateway_text))}}function set_phase_direction(a){set_selected_value_manual("selected_phase_"+visit_phase_currently_working+"_direction","visit_phase_"+visit_phase_currently_working+"_direction",a);$(".selector").hide()}function clear_phase_direction(a){$("#visit_phase_"+a+"_direction").val("");$("#selected_phase_"+a+"_direction").html("");set_phase_direction_selector_choices(a,"");$(".selector").hide()}function set_phase_direction_selector_choices(b,a){hide_all_phase_directions(b);$("#no_phase_"+b+"_direction").show();if($("#visit_phase_"+b).val()==""){$("#no_phase_"+b+"_direction").html("please select a phase")}else{$("#no_phase_"+b+"_direction").html(" ")}switch(a){case"1 > 2 C1":case"1 > 2 C5":case"1 > 3":case"1 > 4":case"1 > 5":$("#phase_"+b+"_direction_M").show();$("#phase_"+b+"_direction_L").show();break;case"2 C1":case"2 C5":case"4":$("#phase_"+b+"_direction_F_E").show();$("#phase_"+b+"_direction_L_B").show();break;case"3":$("#selected_phase_"+b+"_direction").html("L/B");break;case"5":break}}function hide_all_phase_directions(a){$("#phase_"+a+"_direction_M").hide();$("#phase_"+a+"_direction_L").hide();$("#phase_"+a+"_direction_F_E").hide();$("#phase_"+a+"_direction_L_B").hide();$("#no_phase_"+a+"_direction").hide()};